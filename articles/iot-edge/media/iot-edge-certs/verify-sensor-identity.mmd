sequenceDiagram
    participant TempSensor
    participant EdgeGateway
    participant ContosoIotHub
    
    TempSensor->>EdgeGateway: Let's talk securely with TLS ðŸ”’
    TempSensor->>EdgeGateway: Here's my certificate ðŸ“œ
    opt If online
        EdgeGateway-->>ContosoIotHub: Can you give me the latest list of certificates?
        ContosoIotHub-->>EdgeGateway: Here you go ðŸ“œðŸ“œðŸ“œ
    end
    EdgeGateway->>EdgeGateway: Verify certificate against record
    note over TempSensor, EdgeGateway: Cryptographic algorithms
    EdgeGateway->>TempSensor: Great, let's connect