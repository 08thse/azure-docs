---
title: Restrictions and details of API formats support
titleSuffix: Azure API Management
description: Details of known issues and restrictions on Open API, WSDL, and WADL formats support in Azure API Management.
services: api-management
documentationcenter: ''
author: dlepow
manager: vlvinogr
editor: ''

ms.assetid: 7a5a63f0-3e72-49d3-a28c-1bb23ab495e2
ms.service: api-management
ms.workload: mobile
ms.tgt_pltfrm: na
ms.topic: article
ms.date: 10/12/2021
ms.author: danlep
---

# API import restrictions and known issues

## About this list

When importing an API, you might encounter some restrictions or need to identify and rectify issues before you can successfully import. In this article, you'll learn:
* All the limitations, organized by the import format of the API. 
* How OpenAPI export works.

## <a name="open-api"> </a>OpenAPI/Swagger import limitations

If you receive errors while importing your OpenAPI document, make sure you've validated it beforehand by either:
* Using the designer in the Azure portal (Design > Front End > OpenAPI Specification Editor), or 
* With a third-party tool, such as <a href="https://editor.swagger.io">Swagger Editor</a>.

### <a name="open-api-general"> </a>General

#### URL template requirements
- Required parameters across both path and query must have unique names.
  - In OpenAPI, a parameter name only needs to be unique within a location, for example path, query, header. 
  - In API Management, we allow operations to be discriminated by both path and query parameters. 
    - OpenAPI doesn't support this, so we require parameter names to be unique within the entire URL template.
- A defined URL parameter needs to be part of the URL template.
- Available source file URL is applied to relative server URLs.
- `\$ref` pointers can't reference external files.

#### OpenAPI specifications
When imported inline to API Management, an OpenAPI specification can be up to 4 MB in size. When an OpenAPI document is provided via a URL to a location accessible from your API Management service, the size limit doesn't apply.

#### Supported extensions
The only supported extensions are:
- `x-ms-paths` 
    - Allows you to define paths that are differentiated by query parameters in the URL.
    - Covered in the [autorest docs](https://github.com/Azure/autorest/tree/main/docs/extensions#x-ms-paths).
- `x-servers` 
    - A backport of the [OpenAPI 3 `servers` object](https://swagger.io/docs/specification/api-host-and-base-path/) for OpenAPI 2.

#### Unsupported extensions
- `Recursion`: 
    - API Management doesn't support definitions defined recursively.
    - For example, schemas referring to themselves.
- `Server` object isn't supported on the API operation level.
- `Produces` keyword (which describes MIME types returned by an API) isn't supported. 

#### Custom extensions
- Are ignored on import.
- Aren't saved or preserved for export.

#### Unsupported definitions 
Inline schema definitions for API operations aren't supported. Schema definitions:
    - Are defined in the API scope.
    - Can be referenced in API operations request or response scopes.

#### Ignored definitions
Security definitions are ignored.

### <a name="open-api-v2"> </a>OpenAPI version 2

OpenAPI version 2 support is limited to JSON format only.

### <a name="open-api-v3"> </a>OpenAPI version 3

#### HTTPS URLs
- If multiple `servers` are specified, API Management will use the first HTTPS URL it finds. 
- If there aren't any HTTPS URLs, the server URL will be empty.

#### Supported
- While `Examples` isn't supported, `example` is.

#### Unsupported
The following fields are included in OpenAPI version 3.x, but are not supported:
    - `explode`
    - `style`
    - `allowReserved`

## OpenAPI import, update, and export mechanisms

### <a name="open-import-export-general"> </a>General

API definitions exported from an API Management service are:
* Primarily intended for external applications that need to call the API hosted in API Management service. 
* Not intended to be imported into the same or different API Management service. 

For configuration management of API definitions across different services/environments, please refer to documentation regarding using API Management Service with Git. 

### Add new API via OpenAPI import

For each operation found in the OpenAPI document, a new operation will be created with Azure resource name and display name set to `operationId` and `summary`, respectively. 
* `operationId` value is normalized.
    *  If `operationId` isn't specified (not present, `null`, or empty), Azure resource name value will be generated by combining HTTP method and path template, for example, `get-foo`.
* `summary` value is imported as-is and its length is limited to 300 characters.
    * If `summary` isn't specified (not present, `null`, or empty), `display name` value will set to `operationId`. 

### Update an existing API via OpenAPI import

During import, the existing API operation:
* Changes to match the API described in the OpenAPI document. 
* Matches to an operation in the OpenAPI document by comparing its `operationId` value to the existing operation's Azure resource name. 
    * If a match is found, existing operation’s properties will be updated "in-place".
    * If a match isn't found:
        * A new operation will be created by combining HTTP method and path template, for example, `get-foo`. 
        * For each new operation, the import will attempt to copy policies from an existing operation with the same HTTP method and path template.

All existing unmatched operations will be deleted.

To make import more predictable, follow these guidelines:

- Specify `operationId` property for every operation.
- Refrain from changing `operationId` after initial import.
- Never change `operationId` and HTTP method or path template at the same time.

### Export API as OpenAPI

Each operation's:
* Azure resource name will be exported as an `operationId`.
* Display name will be exported as a `summary`.

**Normalization rules for `operationId`**
- Convert to lower case.
- Replace each sequence of non-alphanumeric characters with a single dash.
    - For example, `GET-/foo/{bar}?buzz={quix}` will be transformed into `get-foo-bar-buzz-quix-`.
- Trim dashes on both sides.
    - For example, `get-foo-bar-buzz-quix-` will become `get-foo-bar-buzz-quix`
- Truncate to fit 76 characters, four characters less than maximum limit for a resource name.
- Use remaining four characters for a de-duplication suffix, if necessary, in the form of `-1, -2, ..., -999`.

## <a name="wsdl"> </a>WSDL

You can create SOAP pass-through and SOAP-to-REST APIs with WSDL files.

### SOAP bindings 
- Only SOAP bindings of "document" and “literal” encoding style are supported.
- No support for “rpc” style or SOAP-Encoding.

### WSDL:Import
Not supported. Instead, merge the imports into one document.

### Messages with multiple parts 
This message type is not supported.

### WCF wsHttpBinding 
- SOAP services created with Windows Communication Foundation should use `basicHttpBinding`.
- `wsHttpBinding` isn't supported.

### MTOM 
- Services using `MTOM` *may* work. 
- Official support isn't offered at this time.

### Recursion
- Types defined recursively are not supported by API Management.
- For example, refer to an array of themselves.

### Multiple Namespaces
While multiple namespaces can be used in a schema, only the target namespace can be used to define message parts. These namespaces are used to define other input or output elements.

Namespaces other than the target are not preserved on export. While you can import a WSDL document defining message parts with other namespaces, all message parts will have the WSDL target namespace on export.

### Arrays 
SOAP-to-REST transformation supports only wrapped arrays shown in the example below:

```xml
    <complexType name="arrayTypeName">
        <sequence>
            <element name="arrayElementValue" type="arrayElementType" minOccurs="0" maxOccurs="unbounded"/>
        </sequence>
    </complexType>
    <complexType name="typeName">
        <sequence>
            <element name="element1" type="someTypeName" minOccurs="1" maxOccurs="1"/>
            <element name="element2" type="someOtherTypeName" minOccurs="0" maxOccurs="1" nillable="true"/>
            <element name="arrayElement" type="arrayTypeName" minOccurs="1" maxOccurs="1"/>
        </sequence>
    </complexType>
```

## <a name="wadl"> </a>WADL

Currently, there are no known WADL import issues.
