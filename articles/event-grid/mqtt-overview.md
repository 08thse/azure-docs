---
title: 'Overview of the MQTT Support in Azure Event Grid'
description: 'Describes the main concepts for the MQTT Support in Azure Event Grid.'
ms.topic: conceptual
ms.date: 04/30/2023
author: george-guirguis
ms.author: geguirgu
---
# Overview of the MQTT Support in Azure Event Grid
Azure Event Grid enables your clients to communicate with each other and with Azure services, to support your IoT solutions. 

## Key concepts:
The following are a list of key concepts involved in MQTT messaging on Event Grid.

### MQTT

MQTT is a publish-subscribe messaging transport protocol that was designed for constrained environments. It’s efficient, scalable, and reliable, which made it the gold standard for communication in IoT scenarios. Event Grid enables clients to publish and subscribe to messages over the MQTT v3.1.1 and v5.0 protocols. The following list shows some of the highlights of Event Grid's MQTT support:
- MQTT v5 support highlights: 
	- **User properties** allow you to add custom key-value pairs in the message header to provide more context about the message. For example, include the purpose or origin of the message so the receiver can handle the message efficiently.
	- **Request-response pattern** enables your clients to take advantage of the standard request-response asynchronous pattern, specifying the response topic and correlation id in the request for the client to respond without prior configuration. 
	- **Message expiry interval** allows you to declare to Event Grid when to disregard a message that is no longer relevant or valid. For example, disregard stale commands or alerts. 
	- **Topic aliases** helps your clients reduce the size of the topic field, making the data transfer less expensive.
	- **Maximum message size** allows your clients to control the maximum message size that they can handle from the server.
	- **Flow control** allows your clients to control the message flow depending on their capabilities such as processing speed or storage capabilities.
	- **Clean start and session expiry** enable your clients to optimize the reliability and security of the session by preserving the client's subscription information and messages for a configurable time interval.
	- **Negative acknowledgements** allow your clients to efficiently react to different error codes.
	- **Server-sent disconnect packet** allow your clients to efficiently handle disconnects.
- MQTT v3.1.1 support highlights: 
	- **Persistent sessions** ensure reliability by preserving the client's subscription information and messages when a client disconnects.
	- **QoS 0, 1** provides your clients with control over the efficiency and reliability of the communication.
 
[Learn more about Event Grid’s MQTT support and limitations.](mqtt-support.md) 

### Publish-Subscribe messaging model

The publish-subscribe messaging model provides a scalable and asynchronous communication to clients. It enables clients to offload the burden of handling a high number of connections and messages to the service. 

### Clients

Clients refer to IoT devices or applications that publish and subscribe to MQTT messages. 

IoT devices are physical objects that are connected to the internet to transmit telemetry and receive commands. These devices can be sensors, appliances, machines, or other objects equipped with embedded sensors and software. The sensors and software enable them to communicate and interact with each other and the environment around them. The value of IoT devices lies in their ability to provide real-time data and insights, enabling businesses and individuals to make informed decisions and improve efficiency and productivity.

IoT applications are software designed to interact with and process data from IoT devices. They typically include components such as data collection, processing, storage, visualization, and analytics. These applications enable users to monitor and control connected devices, automate tasks, and gain insights from the data generated by IoT devices.

### Event Grid Namespace

Event Grid Namespace is a container for the resources that support the MQTT broker functionality. Clients can connect to the Event Grid Namespace and publish and subscribe to messages, while Event Grid authenticates the client, authorizes their publish and subscribe requests, and delivers published messages to interested subscribers.

### Routing

Event Grid allows you to route your MQTT messages to Azure services or webhooks for further processing. Accordingly, you can build end-to-end solutions by using your IoT data for data analysis, storage, and visualizations, among other use cases. The routing configuration enables you to send all your messages from your clients to an [Event Grid topic](custom-topics.md), and configuring [Event Grid subscriptions](subscribe-through-portal.md) to route the messages from that Event Grid topic to the [supported event handlers](event-handlers.md). [Learn more.](mqtt-routing.md)

### Client Authentication

Event Grid has a client registry that stores information about the clients permitted to connect to it. Before a client can connect, there must be an entry for that client in the client registry. As a client connects to Event Grid, it needs to authenticate with Event Grid based on credentials stored in the identity registry. Event Grid supports X.509 certificate authentication that is the gold-standard in IoT scenarios.[Learn more.](mqtt-client-authentication.md) 

### Access control

Access control is critical for IoT scenarios considering the enormous scale of IoT environments and the unique security challenges of constrained devices. Event Grid delivers Role-Based Access Control (RBAC) through a flexible access control model that enables you to manage the authorization of clients to publish or subscribe to topics.

Given the enormous scale of IoT environments, assigning permission for each client to each topic is incredibly tedious. Event Grid’s flexible access control tackles this scale challenge through grouping clients and topics into client groups and topic spaces. After creating client groups and topic spaces, you’re able to configure a permission binding to grant access to a client group to either publish or subscribe to a topic space.

Topic spaces configuration also provides granular access control by allowing you to control the authorization of each client within a client group to publish or subscribe to its own topic. This granular access control is achieved by using variables in topic templates. [Learn more.](mqtt-access-control.md) 
## Next steps

Use the following articles to learn more about the MQTT support in Event Grid and its main concepts.

### Quick Start

- [Publish and subscribe to MQTT messages](mqtt-publish-and-subscribe-portal.md)
- [Route MQTT messages to Event Hubs](mqtt-routing-to-event-hubs-portal.md)

### Concepts

- [Terminology](mqtt-event-grid-namespace-terminology.md)
- [Client authentication](mqtt-client-authentication.md) 
- [Access control](mqtt-access-control.md) 
- [MQTT support](mqtt-support.md) 
- [Routing MQTT messages](mqtt-routing.md) 
