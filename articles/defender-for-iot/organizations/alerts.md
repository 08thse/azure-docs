---
title: Microsoft Defender for IoT alerts
description: Learn about the resources for managing Microsoft Defender for IoT alerts across the Azure portal, OT network sensors, and on-premises management consoles.
ms.date: 03/10/2022
ms.topic: how-to
---

# Microsoft Defender for IoT alerts

Microsoft Defender for IoT alerts enhance your network security and operations with real-time details about events logged in your network. Alerts are triggered when OT or Enterprise IoT network sensors detect changes or suspicious activity in network traffic that need your attention.

For example:

:::image type="content" source="media/how-to-view-manage-cloud-alerts/main-alert-page.png" alt-text="Screenshot of the Alerts page in the Azure portal." lightbox="media/how-to-view-manage-cloud-alerts/main-alert-page.png":::

Defender for IoT provides recommended remediation steps for each alert, such as taking action on a related device or on the network process that triggered the alert.

> [!TIP]
> Use remediation steps to help your SOC teams understand OT issues and resolutions. We recommend that you review recommended remediation steps before updating an alert status or taking action on the device or network.
>

## Alert management options

Defender for IoT alerts are available in the following locations:

- **Defender for IoT in the Azure portal**, for all cloud-connected OT sensors and Enterprise IoT sensors
- **Each OT network sensor console**, for alerts generated by that sensor
- **The on-premises management console**, for alerts generated by connected OT sensors

In each location, view alert details about when the alert was detected and investigate the alert with surrounding context, such as the traffic's source and destination devices.

The Azure portal and OT network sensors also provide the following extra investigation and alert management options:

|Location  |Extra options  |
|---------|---------|
|**Alerts on the Azure portal**     | - View related MITRE ATT&CK tactics and techniques <br>- Use out-of-the-box workbooks for visibility into high priority alerts <br>- Run a deeper investigation with other Microsoft services, such as [Microsoft Sentinel playbooks and workbooks](concept-sentinel-integration.md).        |
|**OT network sensors**     | - View the alert's source and destination in the **Device map**, and view related events on the **Event timeline**.   - <br>- Forward sensor alerts to directly to partner vendors, including SIEM systems, MSSP systems, and more.      |

> [!NOTE]
> Alerts for Enterprise IoT devices detected by Microsoft Defender for Endpoint are available in Defender for Endpoint only. For more information, see <xref>.
>

For details about alert options per user role, see Defender for IoT user roles and permissions in [Azure](roles-azure.md) and for [OT network sensors and on-premises management consoles](roles-on-premises.md).

## Learning alert traffic

Some alerts might reflect valid network changes, such as an authorized device attempting to access a new resource on another device.

If you don't want to see the alert again for the same traffic, instruct Defender for IoT to *Learn* the traffic for its network baseline.

While you can *Learn* alerts on the Azure portal or on OT network sensors, you can only *Unlearn* alerts on the OT network sensor.

After *Learning* an alert, the alert is automatically closed and the learn action is added to the alert's **Event Timeline**.

> [!NOTE]
> Devices related to the learned traffic, including source and destination devices, aren't calculated when the sensor generates reports, such as [Risk assessment](how-to-create-risk-assessment-reports.md) or [Attack vector](how-to-create-attack-vector-reports.md) reports.

Other examples of traffic you might want to *Learn* include:

- Firmware version changes following standard maintenance procedures.

- A new device is added to the network.

- A new device performed a read/write operation on a destination controller.

- A new device performs a read/write operation on a destination controller and should be defined as a programming device.

- New legitimate scanning is carried out and the device should be defined as a scanning device.

### Muting alert traffic

Learning an alert isn't an available for alerts generated by the *Anomaly*, *Protocol Violation*, or *Operational* engine. To instruct your sensor to ignore such alerts, sign into your sensor and mute the alert instead.

Examples of when you'd mute traffic include:

  - The Anomaly engine triggers an alert on a spike in bandwidth between two devices, but the spike is valid for these devices.

  - The Protocol Violation engine triggers an alert on a protocol deviation detected between two devices, but the deviation is valid between the devices.
  
  - The Operational engine triggers an alert indicating that the PLC Mode was changed on a device. The new mode may indicate that the PLC isn't secure. After investigation, it's determined that the new mode is acceptable.


## Managing alerts in a hybrid deployment

Users working in hybrid deployments may be managing alerts in Defender for IoT on the Azure portal, the sensor, and an on-premises management console.

Alert management across all interfaces functions as follows:

- **Alert statuses are fully synchronized** between the Azure portal and the sensor. This means that when you set an alert status to **Closed** on either the Azure portal or the sensor, the alert status is updated in the other location as well.

    Setting an alert status to **Closed** or **Muted** on a sensor updates the alert status to **Closed** on the Azure portal. Alert statuses are also synchronized between the sensor and the on-premises management console to keep all management sources updated with the correct alert statuses.

    [Learning](#manage-alert-status-and-severity) an alert in Azure also updates the alert in the sensor console.

- **Alert Exclusion rules**: If you're working with an on-premises management console, you may have defined alert *Exclusion rules* to determine the rules detected by relevant sensors.

    Alerts excluded because they meet criteria for a specific exclusion rule are not displayed on the sensor, or in the Azure portal. For more information, see [Create alert exclusion rules](how-to-work-with-alerts-on-premises-management-console.md#create-alert-exclusion-rules).

<!--
You can suppress alerts by either muting them or creating alert exclusion rules. This section describes potential use cases for both features.

- **Exclusion rule**. Write an exclusion rule when:

  - You know ahead of time that you want to exclude the event from the database. For example, you know that the scenario detected at a certain sensor will trigger irrelevant alerts. For example, you'll be carrying out maintenance work on organizational PLCs on a specific site and want to suppress alerts related to PLCs for this site.

  - You want Defender for IoT to ignore events for a specific range of time (for system maintenance tasks).

  - You want to ignore events in a specific subnet.

  - You want to control alert events generated from several sensors with one rule.

  - You don't want to track the alert exclusion as an event in the event log.

- **Mute**. Mute an alert when:

  - Items that need to be muted are not planned. You don't know ahead of time which events will be irrelevant.

  - You want to suppress the alert from the **Alerts** window, but you still want to track it in the event log.

  - You want to ignore events on a specific channel.

- Time zones and time periods

- Device address (IP, MAC, subnet)

- Alert names

- A specific sensor

Create alert exclusion rules when you want Defender for IoT to ignore activity that will trigger an alert.
-->

## Accelerating OT alert workflows

**Admin** users on an OT network sensor can use the following options to help their SOC and OT management teams triage and remediate alerts faster:

- **Create custom alert rules**. Add custom alert rules to trigger alerts for specific activity on your network that's not covered by out-of-the-box functionality.

    For example, for an environment running MODBUS, you might add a rule to detect any written commands to a memory register on a specific IP address and ethernet destination.

    For more information, see [Customize alert rules](how-to-accelerate-alert-incident-response.md#customize-alert-rules).

- **Create custom alert comments**. Create a set of custom alert comments that other users can add to individual alerts, with details like custom mitigation steps, communications to other team members, or additional insights or warnings about the event.

    As team members triage alerts, they can reuse any of these custom comments. Alert comments are shown in a comments area on an alert details page. For example:

    :::image type="content" source="media/alerts/alert-comments.png" alt-text="Screenshot of the alert comments area.":::

    For more information, see [Accelerate incident workflows by using alert comments](how-to-view-alerts.md#accelerate-incident-workflows-by-using-alert-comments).


## Alert data retention

On an OT network sensor:

- New alerts are automatically closed if no identical traffic detected 14 days after  initial detection. After 90 days of being closed, the alert is removed from the sensor.

- If identical traffic is detected after the initial 14 days, the 14-day count for network traffic is reset.

Changing the status of an alert to *Learn*, *Mute* or *Close* does not impact how long the alert is displayed in the sensor console.

<!--missing more info. is this replicated to the portal? cm? sentinel?-->

## Next steps

Review alert types and messages to help you understand and plan remediation actions and playbook integrations. For more information, see [OT monitoring alert types and descriptions](alert-engine-messages.md).

- Investigate OT alerts
- [View and manage alerts from the Azure portal](how-to-manage-cloud-alerts.md)
- [View and manage alerts on your OT sensor](how-to-view-alerts.md)
- [Work with alerts on the on-premises management console](how-to-work-with-alerts-on-premises-management-console.md)
